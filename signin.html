<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>프로젝트 1</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li>
            <a href="index.html">home</a>
          </li>
          <li>
            <a href="signin.html">Sign in</a>
          </li>
          <li>
            <a href="myhome.html">My home</a>
          </li>
          <li>
            <a href="login.html">login</a>
          </li>
          <li><a href="logout.html">Logout</a></li>

          <ul name="frm" method="post" action="save.js"></ul>
        </ul>
      </nav>
      <button id="cartButton">장바구니</button>
    </header>

    <form>
      <h2>회원가입</h2>
      <div>email : <input type="email" id="signUpEmail" /></div>
      <div>password : <input type="password" id="signUpPassword" /></div>
      <button type="submit" id="signUpButton">회원가입 하기</button>
      <a href="login.html">로그인 하러 가기</a>
    </form>
    <p id="signupMessage"></p>
    <!-- 추가: 회원가입 메시지 표시 영역 -->

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js'
      import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js'
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: 'AIzaSyD3Suvablx06LyP3Ta84zelmzx3gu4AdSY',
        authDomain: 'login-6fd39.firebaseapp.com',
        projectId: 'login-6fd39',
        storageBucket: 'login-6fd39.appspot.com',
        messagingSenderId: '754361453461',
        appId: '1:754361453461:web:80d5a3fa55d045b28b849c',
        measurementId: 'G-1WH6R4SVHR',
      }

      // Initialize Firebase
      const app = initializeApp(firebaseConfig)
      const analytics = getAnalytics(app)

      import {
        getAuth,
        createUserWithEmailAndPassword,
      } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js'

      document
        .getElementById('signUpButton')
        .addEventListener('click', (event) => {
          event.preventDefault()
          const email = document.getElementById('signUpEmail').value
          const password = document.getElementById('signUpPassword').value
          const auth = getAuth()

          createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
              console.log('회원가입 성공:', userCredential)
              // 회원가입 성공 시 메시지 표시
              document.getElementById('signupMessage').textContent =
                '회원가입 성공'
            })
            .catch((error) => {
              console.error('회원가입 실패:', error)
              // 회원가입 실패 시 메시지 표시
              document.getElementById('signupMessage').textContent =
                '회원가입 실패'
            })
        })

      console.log(app)
    </script>

    <footer></footer>
  </body>
</html>
